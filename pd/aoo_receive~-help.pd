#N canvas 715 143 652 559 12;
#X declare -lib aoo;
#X text 276 275 creation arguments:;
#X msg 78 230 bufsize \$1;
#X obj 78 206 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#N canvas 763 79 537 691 events 0;
#X obj 37 32 inlet;
#X obj 104 82 print aoo_receive~;
#X text 72 257 the source format has changed;
#X text 71 363 blocks have been lost;
#X text 71 418 blocks arrived out of order;
#X text 71 473 blocks have been resent;
#X text 70 530 large gap between blocks;
#X text 72 139 a source has been added;
#X text 69 190 the source has change its state (0: stop \, 1: play)
;
#X text 64 637 <delta> is the approx. delay between source and sink
(in ms), f 62;
#X obj 37 56 route ping;
#X obj 37 80 outlet;
#X msg 37 117 source_add <host> <port> <ID>;
#X msg 37 166 source_state <host> <port> <ID> <state>;
#X msg 38 335 block_lost <host> <port> <ID> <count>;
#X msg 39 391 block_reordered <host> <port> <ID> <count>;
#X msg 39 446 block_resent <host> <port> <ID> <count>;
#X msg 40 502 block_gap <host> <port> <ID> <count>;
#X msg 40 558 ping <host> <port> <ID> <delta>;
#X msg 37 283 invite_timeout <host> <port> <ID>;
#X text 75 307 an invite request for the given source has timed out
;
#X text 65 586 a periodic message coming from the source. The sink
automatically replies with another ping message to tell the source
that it is actively listening., f 54;
#X msg 36 218 source_format <host> <port> <ID> <codec> <channels> <blocksize>
<samplerate> <channels> ..., f 53;
#X connect 0 0 10 0;
#X connect 10 0 11 0;
#X connect 10 1 1 0;
#X restore 182 324 pd events;
#X text 35 24 aoo_receive~: receive one or more AoO audio streams;
#X msg 521 468 \; pd dsp \$1;
#X obj 521 445 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 38 75 list_sources;
#X text 138 66 list sources. This will output a message [source <host>
<port> <id>( for each source., f 45;
#X obj 487 24 declare -lib aoo;
#X obj 38 297 aoo_receive~ 9999 1 2;
#X msg 54 109 invite localhost 9998 1;
#X text 232 109 invite an AoO source (hostname \, port \, source ID)
;
#X msg 62 143 uninvite localhost 9998 1;
#X text 252 142 uninvite an AoO source (hostname \, port \, source
ID);
#X obj 36 414 aoo_receive~ 9999 2 2;
#X obj 202 469 aoo_send~ 9999 1 2;
#X text 276 303 1) port number for incoming messages;
#X text 276 329 2) sink ID \, must be unique for all;
#X text 297 349 [aoo_receive~] instances on the same port;
#X text 277 375 3) number of channels (default: 1);
#X text 33 388 another sink on the same port;
#X obj 36 439 env~;
#X floatatom 36 463 5 0 0 0 - - -;
#X obj 107 440 env~;
#X floatatom 107 464 5 0 0 0 - - -;
#X text 199 445 the same port can also be used by sources;
#X msg 70 175 uninvite;
#X text 141 174 uninvite all AoO sources;
#N canvas 763 168 527 586 advanced 0;
#X obj 39 536 outlet;
#X msg 71 190 timefilter \$1;
#X obj 71 170 nbx 8 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 174 190 time DLL filter bandwidth (default: 0.0001);
#X obj 80 223 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 80 247 packetsize \$1;
#X text 186 245 max. UDP packet size (default: 512 bytes);
#X msg 87 285 reset;
#X text 144 278 reset all sources (e.g. if the stream seems to be broken
or out of sync), f 47;
#X text 262 319 reset individual source;
#X msg 93 318 reset localhost 9998 1;
#X obj 39 18 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X msg 99 18 0;
#X text 133 18 stop listening;
#X msg 39 43 port \$1;
#X text 101 43 change receive port;
#X msg 49 92 id \$1;
#X obj 49 73 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 103 91 change AoO sink ID;
#X msg 105 394 resend \$1;
#X obj 105 372 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 110 449 resend_limit \$1;
#X obj 110 428 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X obj 116 479 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 116 500 resend_interval \$1;
#X text 234 449 max. number of frames to request per message (default:
16), f 34;
#X text 254 498 time interval (ms) between resend requests (default:
10 ms), f 34;
#X text 186 388 enable/disable resending of lost packets (enabled by
default), f 40;
#X text 102 348 packet resending:;
#X text 268 119 get the current buffer fill ratio of the given source
, f 27;
#X text 269 152 0: empty \, 1: full;
#X msg 59 125 fill_ratio localhost 9998 1;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 7 0 0 0;
#X connect 10 0 0 0;
#X connect 11 0 14 0;
#X connect 12 0 14 0;
#X connect 14 0 0 0;
#X connect 16 0 0 0;
#X connect 17 0 16 0;
#X connect 19 0 0 0;
#X connect 20 0 19 0;
#X connect 21 0 0 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 24 0 0 0;
#X connect 31 0 0 0;
#X restore 89 262 pd advanced;
#X text 37 509 see also;
#X obj 107 509 aoo_send~;
#X text 277 402 4) buffer size (default: 25 ms);
#X text 165 208 buffer size in ms (default: 25 ms);
#X text 163 229 increase for jittery \, unreliable networks!;
#X obj 182 350 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 0 50 450 387 output 0;
#X obj 105 188 inlet~;
#X obj 173 191 inlet~;
#X obj 238 100 loadbang;
#X msg 238 124 -100;
#X obj 238 148 s /\$0/master;
#X obj 143 108 nbx 5 14 -100 0 0 0 /\$0/master /\$0/master empty 0
-8 0 10 -262144 -1 -1 -100 256;
#X obj 201 105 cnv 15 1 1 empty empty dB 0 12 0 14 -262144 -1 0;
#X obj 105 105 cnv 15 1 1 empty empty Vol: 0 12 0 14 -262144 -1 0;
#X obj 227 191 r /\$0/master;
#X obj 227 215 + 100;
#X obj 227 239 dbtorms;
#X msg 227 263 \$1 50;
#X obj 227 288 line~;
#X obj 105 322 *~;
#X obj 174 323 *~;
#X obj 104 352 dac~;
#X connect 0 0 13 0;
#X connect 1 0 14 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 12 0 14 1;
#X connect 13 0 15 0;
#X connect 14 0 15 1;
#X coords 0 -1 1 1 120 30 2 100 100;
#X restore 37 323 pd output;
#X obj 184 509 aoo_client;
#X obj 270 509 aoo_server;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 3 0 35 0;
#X connect 6 0 5 0;
#X connect 7 0 10 0;
#X connect 10 0 36 0;
#X connect 10 1 36 1;
#X connect 10 2 3 0;
#X connect 11 0 10 0;
#X connect 13 0 10 0;
#X connect 15 0 22 0;
#X connect 15 1 24 0;
#X connect 22 0 23 0;
#X connect 24 0 25 0;
#X connect 27 0 10 0;
#X connect 29 0 10 0;
