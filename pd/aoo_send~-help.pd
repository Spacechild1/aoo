#N canvas 234 73 682 631 12;
#X declare -lib aoo;
#X text 247 341 creation arguments:;
#N canvas 467 140 551 477 pcm 0;
#X obj 31 384 outlet;
#X msg 256 79 2;
#X msg 267 106 3;
#X msg 273 132 4;
#X msg 279 157 8;
#X obj 256 203 t b f;
#X msg 189 123 44100;
#X msg 196 150 48000;
#X msg 180 98 22050;
#X obj 172 201 t b f;
#X msg 110 99 64;
#X msg 119 124 128;
#X msg 126 149 256;
#X msg 133 175 512;
#X obj 101 77 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X obj 172 78 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 299 79 16-bit integer;
#X text 306 105 24-bit integer;
#X text 317 157 64-bit float;
#X text 97 55 blocksize;
#X text 172 55 samplerate;
#X text 128 322 all arguments are optional!;
#X msg 41 322 format pcm;
#X text 29 28 uncompressed PCM;
#X text 255 54 bitdepth;
#X text 311 132 32-bit float (default);
#X text 246 355 individual arguments can be "auto";
#X obj 31 77 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 29 53 channels;
#X obj 101 202 t b f;
#X obj 31 235 pack 2 64 44100 4;
#X text 39 265 [format pcm <nchannels> <blocksize> <samplerate> <bitdepth>(
;
#X msg 31 293 format pcm \$1 \$2 \$3 \$4;
#X msg 46 354 format pcm auto 256 auto 4;
#X connect 1 0 5 0;
#X connect 2 0 5 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 30 0;
#X connect 5 1 30 3;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 30 0;
#X connect 9 1 30 2;
#X connect 10 0 29 0;
#X connect 11 0 29 0;
#X connect 12 0 29 0;
#X connect 13 0 29 0;
#X connect 14 0 29 0;
#X connect 15 0 9 0;
#X connect 22 0 0 0;
#X connect 27 0 30 0;
#X connect 29 0 30 0;
#X connect 29 1 30 1;
#X connect 30 0 32 0;
#X connect 32 0 0 0;
#X connect 33 0 0 0;
#X restore 99 378 pd pcm;
#N canvas 488 190 703 542 opus 0;
#X obj 50 492 outlet;
#X msg 221 147 48000;
#X obj 126 97 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X obj 208 97 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 202 74 samplerate;
#X obj 291 97 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 307 147 max;
#X obj 372 202 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 63 420 format opus;
#X text 153 420 all arguments are optional!;
#X msg 300 121 auto;
#X text 366 143 complexity (0 - 10);
#X text 290 75 bitrate (bit/s);
#X msg 381 223 auto;
#X text 450 208 signal type;
#X msg 453 251 auto;
#X msg 495 252 music;
#X msg 545 252 voice;
#X obj 50 357 list prepend format opus;
#X obj 50 387 list trim;
#X text 121 75 blocksize;
#X msg 226 171 24000;
#X msg 140 146 128;
#X msg 145 171 256;
#X msg 149 195 512;
#X msg 153 219 1024;
#X msg 156 244 2048;
#X text 44 39 Opus is a high quality codec for compressed audio \,
see http://opus-codec.org/, f 79;
#X msg 133 119 auto;
#X msg 215 120 auto;
#N canvas 107 95 595 368 pack 0;
#X obj 36 40 inlet;
#X obj 101 40 inlet;
#X obj 163 41 inlet;
#X obj 232 42 inlet;
#X obj 299 44 inlet;
#X obj 162 90 t b a;
#X obj 167 308 text define \$0-opus;
#X obj 167 256 loadbang;
#X obj 68 121 text set \$0-opus 0 0;
#X obj 132 154 text set \$0-opus 0 1;
#X obj 194 181 text set \$0-opus 0 2;
#X obj 263 211 text set \$0-opus 0 3;
#X obj 331 121 text set \$0-opus 0 4;
#X obj 36 283 text get \$0-opus;
#X obj 36 311 outlet;
#X obj 36 64 list;
#X obj 101 64 list;
#X obj 163 65 list;
#X obj 232 66 list;
#X obj 299 68 list;
#X obj 36 88 t b a;
#X obj 101 90 t b a;
#X msg 36 254 0;
#X obj 232 90 t b a;
#X obj 299 92 t b a;
#X obj 378 44 inlet;
#X obj 378 68 list;
#X obj 378 92 t b a;
#X obj 410 151 text set \$0-opus 0 5;
#X msg 167 282 set auto auto auto auto auto auto;
#X connect 0 0 15 0;
#X connect 1 0 16 0;
#X connect 2 0 17 0;
#X connect 3 0 18 0;
#X connect 4 0 19 0;
#X connect 5 0 22 0;
#X connect 5 1 10 0;
#X connect 7 0 29 0;
#X connect 13 0 14 0;
#X connect 15 0 20 0;
#X connect 16 0 21 0;
#X connect 17 0 5 0;
#X connect 18 0 23 0;
#X connect 19 0 24 0;
#X connect 20 0 22 0;
#X connect 20 1 8 0;
#X connect 21 0 22 0;
#X connect 21 1 9 0;
#X connect 22 0 13 0;
#X connect 23 0 22 0;
#X connect 23 1 11 0;
#X connect 24 0 22 0;
#X connect 24 1 12 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 22 0;
#X connect 27 1 28 0;
#X connect 29 0 6 0;
#X restore 50 301 pd pack;
#X f 58;
#X text 450 226 optimize for music or speech;
#X text 368 164 higher values give better quality but need more CPU
power. the default is 9, f 38;
#X text 301 454 individual arguments can be "auto";
#X msg 231 196 16000;
#X msg 235 221 12000;
#X msg 242 246 8000;
#X obj 291 272 t a, f 4;
#X obj 372 272 t a;
#X obj 453 275 t a;
#X obj 50 98 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 44 75 channels;
#X obj 126 273 t a;
#X obj 208 273 t a;
#X text 56 327 [format opus <nchannels> <blocksize> <samplerate> <bitrate>
<complexity> <signaltype>(, f 88;
#X text 408 75 NOTE: this is the *total* bitrate!;
#X text 360 99 64000 bit/s per channel is considered to be transparent.
, f 41;
#X msg 68 454 format opus auto 512 auto 64000;
#X connect 1 0 43 0;
#X connect 2 0 42 0;
#X connect 3 0 43 0;
#X connect 5 0 37 0;
#X connect 6 0 37 0;
#X connect 7 0 38 0;
#X connect 8 0 0 0;
#X connect 10 0 37 0;
#X connect 13 0 38 0;
#X connect 15 0 39 0;
#X connect 16 0 39 0;
#X connect 17 0 39 0;
#X connect 18 0 19 0;
#X connect 19 0 0 0;
#X connect 21 0 43 0;
#X connect 22 0 42 0;
#X connect 23 0 42 0;
#X connect 24 0 42 0;
#X connect 25 0 42 0;
#X connect 26 0 42 0;
#X connect 28 0 42 0;
#X connect 29 0 43 0;
#X connect 30 0 18 0;
#X connect 34 0 43 0;
#X connect 35 0 43 0;
#X connect 36 0 43 0;
#X connect 37 0 30 3;
#X connect 38 0 30 4;
#X connect 39 0 30 5;
#X connect 40 0 30 0;
#X connect 42 0 30 1;
#X connect 43 0 30 2;
#X connect 47 0 0 0;
#X restore 154 379 pd opus;
#X text 97 354 set format:;
#X obj 83 271 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X obj 48 417 osc~ 440;
#X obj 152 418 osc~ 220;
#X obj 48 443 *~ 0.25;
#X obj 152 444 *~ 0.25;
#X msg 29 52 add localhost 9999 1;
#X text 26 19 aoo_send~: send an AoO audio stream to one or more AoO
sinks;
#X msg 43 109 remove localhost 9999 1;
#X text 222 108 remove an AoO sink (hostname \, port \, sink ID);
#X text 106 141 remove all AoO sinks;
#X msg 83 293 channel localhost 9999 1 \$1;
#X text 290 294 set sink channel onset;
#X text 185 52 add an AoO sink (hostname \, port \, sink ID \, [channel
onset]);
#X text 211 82 with optional channel onset;
#X msg 543 299 \; pd dsp \$1;
#X obj 543 275 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 60 172 list_sinks;
#X text 147 169 list all sinks. This will output a message [sink <host>
<port> <id>( for each sink., f 44;
#X obj 29 531 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 36 82 add localhost 9999 1 1;
#X msg 77 239 stop;
#X msg 68 211 start;
#X obj 478 19 declare -lib aoo;
#X obj 29 471 aoo_send~ 9998 1 2;
#N canvas 681 50 632 660 events 0;
#X obj 37 26 inlet;
#X obj 37 120 outlet;
#X text 64 214 It also tells you the network latency:;
#X text 66 235 <delta1> is the approx. delay between source and sink
(in ms), f 62;
#X text 66 256 <delta2> is the approx. delay between sink and source
(in ms), f 62;
#X text 66 276 <rtt> is the approx. roundtrip time (in ms) \, as measured
on the source, f 71;
#X text 67 298 NOTE: The roundtrip time is not necessarily the same
as the sum of the deltas \, especially if the two clocks are not perfectly
in sync. If one clock runs significantly early or late \, the deltas
can even be negative!, f 73;
#X text 62 418 This event is only sent when auto accept is turned off
with [accept 0(., f 73;
#X text 62 514 This event is only sent when auto accept is turned off
with [accept 0(., f 73;
#X text 63 396 You may respond with [add <host> <port> <ID>( or ignore
it.;
#X text 62 491 You may respond with [remove <host> <port> <ID>( or
ignore it., f 62;
#X text 64 374 A sink invites you to send audio messages.;
#X text 64 174 A periodic message exchanged between source and sink
\, so the source knows that the sink is receiving its messages.;
#X obj 37 50 route ping, f 17;
#X obj 153 122 print aoo_send~;
#X text 62 616 A sink has been removed., f 25;
#X obj 37 75 t a a;
#X obj 153 94 spigot;
#X obj 192 73 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 217 72 show pings;
#X text 64 469 A sink asks you to stop sending audio messages.;
#X text 62 564 A sink has been added.;
#X msg 37 152 ping <host> <port> <ID> <delta1> <delta2> <rtt>;
#X msg 37 351 invite <host> <port> <ID>;
#X msg 36 444 uninvite <host> <port> <ID>;
#X msg 33 538 sink_add <host> <port> <ID>;
#X msg 33 590 sink_remove <host> <port> <ID>;
#X connect 0 0 13 0;
#X connect 13 0 16 0;
#X connect 13 1 14 0;
#X connect 16 0 1 0;
#X connect 16 1 17 0;
#X connect 17 0 14 0;
#X connect 18 0 17 1;
#X restore 29 500 pd events;
#X text 50 529 ping;
#X text 252 212 Note: you can use these two methods to send "audio
events" instead of continuous streams., f 36;
#X text 117 212 start streaming;
#X text 123 239 stop streaming;
#X text 246 394 2) the source ID \, must be unique for all;
#X text 264 414 [aoo_send~] instances on this port.;
#X obj 121 505 aoo_send~ 9998 2 2;
#X text 262 505 another source on the same port;
#X obj 121 536 aoo_receive~ 9998 1 2;
#X text 245 440 3) number of channels (default: 1);
#X text 246 368 1) port number for incoming messages \, e.g. invitations
;
#X text 283 536 the same port can also be used by sinks;
#X msg 53 140 remove;
#N canvas 705 62 666 488 advanced 0;
#X obj 80 234 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 80 253 packetsize \$1;
#X text 186 251 max. UDP packet size (default: 512 bytes);
#X obj 89 283 nbx 8 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 89 302 timefilter \$1;
#X text 193 303 time DLL filter bandwidth (default: 0.0001);
#X obj 94 333 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 179 355 buffersize (ms) for resending lost packets (default:
1000);
#X msg 69 204 ping \$1;
#X obj 69 183 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 135 204 set ping interval in ms (default: 1000) \, 0 = off
;
#X obj 29 436 outlet;
#X msg 52 148 accept \$1;
#X obj 52 127 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 130 130 1 (default): automatically accept all (un)invitations
from sinks., f 65;
#X text 131 151 0: (un)invitations cause a [invite( resp. [uninvite(
event which, f 64;
#X text 156 170 has to be handled manually.;
#X msg 29 48 port \$1;
#X obj 29 28 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X msg 41 96 id \$1;
#X obj 41 77 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 98 47 change receive port;
#X text 98 97 change AoO source ID;
#X msg 94 354 history \$1;
#X msg 100 406 redundancy \$1;
#X obj 100 386 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 210 388 how often each packet should be sent (default: 1);
#X text 210 410 redundancy might help to reduce packet loss - at the
cost of increased network traffic., f 44;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 3 0 4 0;
#X connect 4 0 11 0;
#X connect 6 0 23 0;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 17 0 11 0;
#X connect 18 0 17 0;
#X connect 19 0 11 0;
#X connect 20 0 19 0;
#X connect 23 0 11 0;
#X connect 24 0 11 0;
#X connect 25 0 24 0;
#X restore 97 324 pd advanced;
#X text 25 576 see also;
#X obj 98 576 aoo_receive~;
#X obj 201 576 aoo_client;
#X obj 287 576 aoo_server;
#X connect 1 0 27 0;
#X connect 2 0 27 0;
#X connect 4 0 14 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 27 0;
#X connect 8 0 27 1;
#X connect 9 0 27 0;
#X connect 11 0 27 0;
#X connect 14 0 27 0;
#X connect 19 0 18 0;
#X connect 20 0 27 0;
#X connect 23 0 27 0;
#X connect 24 0 27 0;
#X connect 25 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 22 0;
#X connect 41 0 27 0;
#X connect 42 0 27 0;
