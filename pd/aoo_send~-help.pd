#N canvas 381 75 682 686 12;
#X declare -lib aoo;
#X text 247 401 creation arguments:;
#N canvas 135 97 551 418 pcm 0;
#X obj 31 365 outlet;
#X msg 187 81 2;
#X msg 198 108 3;
#X msg 204 134 4;
#X msg 210 159 8;
#X obj 187 186 t b f;
#X msg 119 127 44100;
#X msg 126 151 48000;
#X msg 110 104 22050;
#X obj 102 182 t b f;
#X msg 42 101 64;
#X msg 51 126 128;
#X msg 58 150 256;
#X obj 31 216 pack 64 44100 4;
#X msg 31 274 format pcm \$1 \$2 \$3;
#X msg 63 178 512;
#X obj 32 77 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 102 78 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 230 81 16-bit integer;
#X text 237 107 24-bit integer;
#X text 248 159 64-bit float;
#X text 28 55 blocksize;
#X text 102 55 samplerate;
#X text 128 303 all arguments are optional!;
#X text 39 246 [format pcm <blocksize> <samplerate> <bitdepth>(;
#X msg 41 303 format pcm;
#X text 29 28 uncompressed PCM;
#X msg 47 335 format pcm auto auto 4;
#X text 186 56 bitdepth;
#X text 242 134 32-bit float (default);
#X text 215 334 individual arguments can be "auto";
#X connect 1 0 5 0;
#X connect 2 0 5 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 5 1 13 2;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 9 1 13 1;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 0 0;
#X connect 15 0 13 0;
#X connect 16 0 13 0;
#X connect 17 0 9 0;
#X connect 25 0 0 0;
#X connect 27 0 0 0;
#X restore 99 438 pd pcm;
#N canvas 609 183 683 542 opus 0;
#X obj 50 492 outlet;
#X msg 149 148 48000;
#X obj 50 98 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 136 99 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 136 76 samplerate;
#X text 56 327 [format opus <blocksize> <samplerate> <bitrate> <complexity>
<signal type>(, f 77;
#X obj 224 98 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 240 148 max;
#X obj 310 205 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 63 420 format opus;
#X text 153 420 all arguments are optional!;
#X msg 233 122 auto;
#X text 304 143 complexity (0 - 10);
#X text 223 76 bitrate (bit/s);
#X msg 324 229 auto;
#X text 395 215 signal type;
#X msg 397 262 auto;
#X msg 439 263 music;
#X msg 489 263 voice;
#X obj 50 357 list prepend format opus;
#X obj 50 387 list trim;
#X text 45 76 blocksize;
#X msg 154 173 24000;
#X msg 64 147 128;
#X msg 69 172 256;
#X msg 73 196 512;
#X msg 77 220 1024;
#X msg 80 245 2048;
#X text 44 39 Opus is a high quality codec for compressed audio \,
see http://opus-codec.org/, f 79;
#X msg 57 120 auto;
#X msg 143 122 auto;
#N canvas 107 95 523 368 pack 0;
#X obj 36 40 inlet;
#X obj 101 40 inlet;
#X obj 163 41 inlet;
#X obj 232 42 inlet;
#X obj 299 44 inlet;
#X obj 162 90 t b a;
#X obj 167 308 text define \$0-opus;
#X obj 167 256 loadbang;
#X obj 68 121 text set \$0-opus 0 0;
#X obj 132 154 text set \$0-opus 0 1;
#X obj 194 181 text set \$0-opus 0 2;
#X obj 263 211 text set \$0-opus 0 3;
#X obj 331 244 text set \$0-opus 0 4;
#X obj 36 283 text get \$0-opus;
#X msg 167 282 set auto auto auto auto auto;
#X obj 36 311 outlet;
#X obj 36 64 list;
#X obj 101 64 list;
#X obj 163 65 list;
#X obj 232 66 list;
#X obj 299 68 list;
#X obj 36 88 t b a;
#X obj 101 90 t b a;
#X msg 36 254 0;
#X obj 232 90 t b a;
#X obj 299 92 t b a;
#X connect 0 0 16 0;
#X connect 1 0 17 0;
#X connect 2 0 18 0;
#X connect 3 0 19 0;
#X connect 4 0 20 0;
#X connect 5 0 23 0;
#X connect 5 1 10 0;
#X connect 7 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 6 0;
#X connect 16 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 5 0;
#X connect 19 0 24 0;
#X connect 20 0 25 0;
#X connect 21 0 23 0;
#X connect 21 1 8 0;
#X connect 22 0 23 0;
#X connect 22 1 9 0;
#X connect 23 0 13 0;
#X connect 24 0 23 0;
#X connect 24 1 11 0;
#X connect 25 0 23 0;
#X connect 25 1 12 0;
#X restore 50 301 pd pack;
#X f 50;
#X text 284 98 64000 bit/s per channel is considered to be transparent
, f 30;
#X text 395 237 optimize for music or speech;
#X text 306 167 higher values give better quality but need more CPU
power. the default is 9, f 38;
#X msg 68 454 format opus auto auto 64000;
#X text 272 455 individual arguments can be "auto";
#X msg 159 198 16000;
#X msg 163 223 12000;
#X msg 169 248 8000;
#X connect 1 0 31 1;
#X connect 2 0 31 0;
#X connect 3 0 31 1;
#X connect 6 0 31 2;
#X connect 7 0 31 2;
#X connect 8 0 31 3;
#X connect 9 0 0 0;
#X connect 11 0 31 2;
#X connect 14 0 31 3;
#X connect 16 0 31 4;
#X connect 17 0 31 4;
#X connect 18 0 31 4;
#X connect 19 0 20 0;
#X connect 20 0 0 0;
#X connect 22 0 31 1;
#X connect 23 0 31 0;
#X connect 24 0 31 0;
#X connect 25 0 31 0;
#X connect 26 0 31 0;
#X connect 27 0 31 0;
#X connect 29 0 31 0;
#X connect 30 0 31 1;
#X connect 31 0 19 0;
#X connect 35 0 0 0;
#X connect 37 0 31 1;
#X connect 38 0 31 1;
#X connect 39 0 31 1;
#X restore 154 439 pd opus;
#X text 97 414 set format:;
#X obj 89 331 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X obj 48 477 osc~ 440;
#X obj 152 478 osc~ 220;
#X obj 48 503 *~ 0.25;
#X obj 152 504 *~ 0.25;
#X msg 29 52 add localhost 9999 1;
#X text 26 19 aoo_send~: send an AoO audio stream to one or more AoO
sinks;
#X msg 50 140 remove localhost 9999 1;
#X text 229 139 remove an AoO sink (hostname \, port \, sink ID);
#X text 117 201 remove all AoO sinks;
#X msg 89 353 channel localhost 9999 1 \$1;
#X text 296 354 set sink channel onset;
#X text 185 52 add an AoO sink (hostname \, port \, sink ID \, [channel
onset]);
#X text 211 82 with optional channel onset;
#X msg 543 359 \; pd dsp \$1;
#X obj 543 335 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 71 232 list_sinks;
#X text 158 229 list all sinks. This will output a message [sink <host>
<port> <id>( for each sink., f 44;
#X obj 29 593 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 43 111 add localhost 9999 *;
#X text 203 112 send to all AoO sinks on the given endpoint;
#X msg 57 170 remove localhost 9999 *;
#X msg 36 82 add localhost 9999 1 1;
#X text 241 170 remove all AoO sinks on the given endpoint;
#X msg 81 299 stop;
#X msg 76 271 start;
#X obj 478 19 declare -lib aoo;
#X obj 29 531 aoo_send~ 9998 1 2;
#N canvas 681 50 632 660 events 0;
#X obj 37 26 inlet;
#X obj 37 120 outlet;
#X text 33 351 [invite <host> <port> <ID>(;
#X text 32 444 [uninvite <host> <port> <ID>(;
#X text 64 214 It also tells you the network latency:;
#X text 66 235 <delta1> is the approx. delay between source and sink
(in ms), f 62;
#X text 66 256 <delta2> is the approx. delay between sink and source
(in ms), f 62;
#X text 35 152 [ping <host> <port> <ID> <delta1> <delta2> <rtt>(;
#X text 66 276 <rtt> is the approx. roundtrip time (in ms) \, as measured
on the source, f 71;
#X text 67 298 NOTE: The roundtrip time is not necessarily the same
as the sum of the deltas \, especially if the two clocks are not perfectly
in sync. If one clock runs significantly early or late \, the deltas
can even be negative!, f 73;
#X text 62 418 This event is only sent when auto accept is turned off
with [accept 0(., f 73;
#X text 62 514 This event is only sent when auto accept is turned off
with [accept 0(., f 73;
#X text 63 396 You may respond with [add <host> <port> <ID>( or ignore
it.;
#X text 62 491 You may respond with [remove <host> <port> <ID>( or
ignore it., f 62;
#X text 64 374 A sink invites you to send audio messages.;
#X text 64 174 A periodic message exchanged between source and sink
\, so the source knows that the sink is receiving its messages.;
#X obj 37 50 route ping, f 17;
#X obj 153 122 print aoo_send~;
#X text 31 543 [sink_add <host> <port> <ID>(;
#X text 30 592 [sink_remove <host> <port> <ID>(;
#X text 62 616 A sink has been removed., f 25;
#X obj 37 75 t a a;
#X obj 69 99 spigot;
#X obj 108 78 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 133 77 show pings;
#X text 64 469 A sink asks you to stop sending audio messages.;
#X text 62 564 A sink has been added.;
#X connect 0 0 16 0;
#X connect 16 0 21 0;
#X connect 16 1 17 0;
#X connect 21 0 1 0;
#X connect 21 1 22 0;
#X connect 22 0 17 0;
#X connect 23 0 22 1;
#X restore 29 560 pd events;
#X text 50 591 ping;
#X text 256 272 Note: you can use these two methods to send "audio
events" instead of continuous streams., f 36;
#X text 125 272 start streaming;
#X text 127 299 stop streaming;
#X text 246 454 2) the source ID \, must be unique for all;
#X text 264 474 [aoo_send~] instances on this port.;
#X obj 121 565 aoo_send~ 9998 2 2;
#X text 262 565 another source on the same port;
#X obj 121 596 aoo_receive~ 9998 1 2;
#X text 245 500 3) number of channels (default: 1);
#X text 246 428 1) port number for incoming messages \, e.g. invitations
;
#X text 283 596 the same port can also be used by sinks;
#X msg 64 200 remove;
#N canvas 705 62 666 488 advanced 0;
#X obj 80 234 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 80 253 packetsize \$1;
#X text 186 251 max. UDP packet size (default: 512 bytes);
#X obj 89 283 nbx 8 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X msg 89 302 timefilter \$1;
#X text 193 303 time DLL filter bandwidth (default: 0.0001);
#X obj 94 333 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 179 355 buffersize (ms) for resending lost packets (default:
1000);
#X msg 69 204 ping \$1;
#X obj 69 183 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 135 204 set ping interval in ms (default: 1000) \, 0 = off
;
#X obj 29 436 outlet;
#X msg 52 148 accept \$1;
#X obj 52 127 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 130 130 1 (default): automatically accept all (un)invitations
from sinks., f 65;
#X text 131 151 0: (un)invitations cause a [invite( resp. [uninvite(
event which, f 64;
#X text 156 170 has to be handled manually.;
#X msg 29 48 port \$1;
#X obj 29 28 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X msg 41 96 id \$1;
#X obj 41 77 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 98 47 change receive port;
#X text 98 97 change AoO source ID;
#X msg 94 354 history \$1;
#X msg 100 406 redundancy \$1;
#X obj 100 386 nbx 5 14 -1e+037 1e+037 0 0 empty empty empty 0 -8 0
10 -262144 -1 -1 0 256;
#X text 210 388 how often each packet should be sent (default: 1);
#X text 210 410 redundancy might help to reduce packet loss - at the
cost of increased network traffic., f 44;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 3 0 4 0;
#X connect 4 0 11 0;
#X connect 6 0 23 0;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 17 0 11 0;
#X connect 18 0 17 0;
#X connect 19 0 11 0;
#X connect 20 0 19 0;
#X connect 23 0 11 0;
#X connect 24 0 11 0;
#X connect 25 0 24 0;
#X restore 97 384 pd advanced;
#X text 25 636 see also;
#X obj 98 636 aoo_receive~;
#X obj 203 637 aoo_server;
#X connect 1 0 31 0;
#X connect 2 0 31 0;
#X connect 4 0 14 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 31 0;
#X connect 8 0 31 1;
#X connect 9 0 31 0;
#X connect 11 0 31 0;
#X connect 14 0 31 0;
#X connect 19 0 18 0;
#X connect 20 0 31 0;
#X connect 23 0 31 0;
#X connect 25 0 31 0;
#X connect 26 0 31 0;
#X connect 28 0 31 0;
#X connect 29 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 22 0;
#X connect 45 0 31 0;
#X connect 46 0 31 0;
